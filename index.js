var r=Symbol.for("#__init__"),R=Symbol.for("#__initor__"),Y=Symbol.for("#__inited__"),Q=Symbol.for("#__hooks__"),O=Symbol.for("#__patch__"),v=Symbol.for("#has"),Z=Symbol.for("#meta"),f=Symbol.for("imba"),K=Symbol.for("#__mixin__"),L=Symbol.for("#matcher"),M=Symbol.for("#L"),n=Symbol.for("#appendChild"),C=Symbol.for("#afterVisit"),j=Symbol.for("#beforeReconcile"),y=Symbol.for("#afterReconcile"),d=Symbol.for("##up");var I={IsExtension:1,IsTag:2,HasDescriptors:4,HasSuperCalls:8,HasConstructor:16,HasFields:32,HasMixins:64,HasInitor:128,HasDecorators:256,IsObjectExtension:512},E=new Map,o=globalThis[f]||={counter:0,classes:E};function G(h,u={}){return E.has(h)||E.set(h,{symbol:Symbol(h.name),parent:Object.getPrototypeOf(h.prototype)?.constructor,for:h,uses:null,inits:null,id:o.counter++,...u}),E.get(h)}function H(h,u){return typeof u==="string"?typeof h===u:u?.[Symbol.hasInstance]?.(h)}function A(h,u){if(!h||!u)return!1;if(h.get)return u.get===h.get;if(h.set)return u.set===h.set;if(h.value)return h.value===u.value}function S(h,u,w,c={}){let N=h.constructor;if(!w&&u){if(w=Object.getOwnPropertyDescriptors(u),delete w.constructor,w[r])console.warn(`Cannot define plain fields when extending class ${N.name}`),delete w[r]}let t=G(N);if(t&&t.augments){let i=new Map;for(let q of Object.keys(w)){let T=Object.getOwnPropertyDescriptor(h,q);for(let P of t.augments){let B=i.get(P);B||i.set(P,B={});let F=Object.getOwnPropertyDescriptor(P.prototype,q);if(F&&!A(T,F))console.warn("wont extend",q,F,T);else B[q]=w[q]}}for(let[q,T]of i)if(Object.keys(T).length)S(q.prototype,null,T)}return Object.defineProperties(h,w),h}function U(h,u){let w=G(h),c=G(u);if(c.parent){if(!(h.prototype instanceof c.parent))throw new Error(`Mixin ${u.name} has superclass not present in target class`)}if(!c.augments){c.augments=new Set;let t=c.ref=Symbol(u.name),i=Object[Symbol.hasInstance];u.prototype[t]=!0,Object.defineProperty(u,Symbol.hasInstance,{value:function(q){return this===u?q&&!!q[t]:i.call(this,q)}})}if(h.prototype[c.ref])return h;if(c.uses)for(let t of c.uses)U(h,t);c.augments.add(h),w.uses||=[],w.uses.push(u);let N=Object.getOwnPropertyDescriptors(u.prototype);if(delete N.constructor,N[r])w.inits||=[],w.inits.push(u.prototype[r]),delete N[r];if(Object.defineProperties(h.prototype,N),u?.mixed instanceof Function)u.mixed(h);return h}var z={cache:{},self:null,target:null,proxy:new Proxy({},{apply:(h,u,...w)=>{return z.target[u].apply(z.self,w)},get:(h,u)=>{return Reflect.get(z.target,u,z.self)},set:(h,u,w,c)=>{return Reflect.set(z.target,u,w,z.self)}})};function V(h,u,w,c,N=null){let t=Object.getPrototypeOf(h.prototype),i=c&I.HasMixins,q;if(i)E.set(h,E.get(t.constructor)),t=Object.getPrototypeOf(t);if(N){let P=c&I.IsObjectExtension?N:N.prototype,B=G(h);if(B.uses){if(N===P)console.warn("Cannot extend object with mixins");for(let F of B.uses)U(N,F)}if(c&I.HasSuperCalls)z.cache[u]=Object.create(Object.getPrototypeOf(P),Object.getOwnPropertyDescriptors(P));return S(P,h.prototype),N}let T=t?.constructor;if(q=G(h,{symbol:u}),Object.defineProperty(h,Z,{value:q,enumerable:!1,configurable:!0}),w&&h.name!==w)Object.defineProperty(h,"name",{value:w,configurable:!0});if(q.flags=c,c&I.HasConstructor)h.prototype[R]=u;if(q.uses)for(let P of q.uses)P.mixes?.(h);if(T?.inherited instanceof Function)T.inherited(h);return h}function W(h,u){if(h[R]===u)h[Y]?.(),h[Q]&&h[Q].inited(h)}var J=function(h){return new Promise(function(u){return setTimeout(u,h)})},X=Symbol();class D{[r](h=null,u=!0,w=!0){var c;this.duration=h&&(c=h.duration)!==void 0?c:{show:500,display:15000,hide:500,wipe:500,expand:200},this.counter=h&&(c=h.counter)!==void 0?c:0,this.queue=h&&(c=h.queue)!==void 0?c:[],this.hint=h&&(c=h.hint)!==void 0?c:"",this.commit=h&&(c=h.commit)!==void 0?c:void 0}constructor(h){if(this[r](),!h)console.log("Pass imba.commit function to the <Notifications> constructor");this.commit=h,W(this,X)}async fire(h,u,w,c,N){var t=this;let i={id:h,type:u,header:w,text:c,details:N,state:"show",clicked:!1,hide:async function(){if(this.state="hide",H(t.commit,Function))t.commit();if(await J(t.duration.hide),this.state="wipe",H(t.commit,Function))t.commit();if(await J(t.duration.wipe),!t.queue.filter(function(q){return q.state!="wipe"}).length)t.queue=[];if(H(t.commit,Function))return t.commit()},click:function(){if(this.state=="display")return this.clicked=!0}};if(this.queue.push(i),await J(this.duration.show),i.state="display",H(this.commit,Function))this.commit();if(await J(this.duration.display),i.state=="display"&&!i.clicked)return i.hide()}success(h,u,w=""){return this.fire(++this.counter,0,h,u,w)}info(h,u,w=""){return this.fire(++this.counter,1,h,u,w)}caution(h,u,w=""){return this.fire(++this.counter,2,h,u,w)}error(h,u,w=""){return this.fire(++this.counter,3,h,u,w)}static{V(this,X,"Notifications",16)}}export{J as timeout,D as Notifications};
